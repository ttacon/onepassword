ope
===

# Installation

You can install the `ope` CLI via the usual means:

``` sh
go get github.com/ttacon/onepassword/cmd/ope
```


# Usage

## Authentication
`ope` pulls the 1password token from an envar titled `ONEPASS_TOKEN`.

## Introspecting your token

If you want to see when you created the token, you can run:

``` sh
ope introspect
```

The output should look something like:

``` sh

Token UUID: <your-token-here>
Issued At:  2021-07-23 16:51:49 +0000 UTC
Features:
 - signinattempts
 - itemusages

```

## Viewing login attempts

To view login attempts:

``` sh
ope l
```

The output should look something like this:

``` sh
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Sign in attempts report                                                                                                                                                                          |
+----------------------------+----------------------------+-------------------------------+--------------------+---------------------+-------------------+-----------------------------------------+
| UUID                       | SESSIONUUID                | TIMESTAMP                     | CATEGORY           | TYPE                | TARGETUSER        | IP ADDRESS                              |
+----------------------------+----------------------------+-------------------------------+--------------------+---------------------+-------------------+-----------------------------------------+
|      <neat-uuid-here>      |     <another-uuid-here2>   | 2021-07-29 20:43:50 +0000 UTC | success            | credentials_ok      | Trey Tacon        |    0.0.0.0                              |
|      <neat-uuid-here>      |     <another-uuid-here>    | 2021-07-29 20:43:50 +0000 UTC | success            | credentials_ok      | Trey Tacon        |    0.0.0.0                              |
+----------------------------+----------------------------+-------------------------------+--------------------+---------------------+-------------------+-----------------------------------------+
```

## Viewing item usage

To view item usage:

``` sh
ope iur
```

The output should look something like this:

``` sh
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Item usgae report                                                                                                                                                                                                |
+----------------------------+-----------------------------------------+---------+----------------------------+----------------------------+------------------------------+----------------------------------------+
| UUID                       | TIMESTAMP                               | VERSION | VAULTUUID                  | USER                       | CLIENTINFO                   |                                        |
+----------------------------+-----------------------------------------+---------+----------------------------+----------------------------+------------------------------+----------------------------------------+
|      <what-a-cool-uuid>    | 2021-07-28 22:13:46.651247314 +0000 UTC |       1 |          <super>           |             <epic>         | trey.tacon@teamsnap.com      |    0.0.0.0                             |
|    <what-a-cool-uuid-2>    | 2021-07-28 22:13:46.657021846 +0000 UTC |       1 |          <howdy>           |             <epic>         | trey.tacon@teamsnap.com      |    0.0.0.0                             |
+----------------------------+-----------------------------------------+---------+----------------------------+----------------------------+------------------------------+----------------------------------------+
```
